<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Lattice | Investment Memorandum</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* PURE MONOCHROME */
            --bg-color: #020202;
            --white: #ffffff;
            --silver: #8c8c8c;
            --dim: #333333;
            --tiffany: #0ABAB5; /* Tiffany Blue Accent */
            
            --panel-bg: rgba(5, 5, 5, 0.85);
            --panel-border: rgba(255, 255, 255, 0.1);
            
            --blur-amount: 20px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* CANVAS LAYER */
        #flow-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* UI LAYER */
        #ui-layer {
            position: relative;
            z-index: 10;
            width: 90%; 
            max-width: 1400px; /* Reduced max width for tighter focus */
            height: 80vh;
            pointer-events: none; 
        }

        /* SLIDE TRANSITIONS */
        .slide-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            
            background: var(--panel-bg);
            /* Glass border only on left/right to mimic opening */
            border-left: 1px solid var(--panel-border);
            border-right: 1px solid var(--panel-border);
            
            display: grid;
            grid-template-columns: 1.2fr 0.8fr; 
            gap: 60px;
            padding: 0 5%;
            align-items: center;
            
            pointer-events: auto;
            
            /* COALESCE ANIMATION STATE */
            opacity: 0;
            filter: blur(var(--blur-amount));
            transform: scale(1.02);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .slide-container.active {
            opacity: 1;
            filter: blur(0px); /* Coalesce to sharp */
            transform: scale(1);
        }

        /* DIGITAL WALL DIVIDER */
        .visual-content {
            height: 70%;
            border-left: 2px solid rgba(255, 255, 255, 0.1);
            padding-left: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }
        
        /* The glowing line in the UI matching the physics wall */
        .visual-content::before {
            content: '';
            position: absolute;
            left: -2px;
            top: 0;
            height: 100%;
            width: 2px;
            background: linear-gradient(180deg, transparent, var(--tiffany), transparent);
            box-shadow: 0 0 15px var(--tiffany);
            opacity: 0.8;
        }

        /* TYPOGRAPHY - UPDATED SIZES */
        h1 {
            font-size: 3.5rem; /* Reduced from 5.5rem */
            line-height: 1.1;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -1px;
            margin-bottom: 1.5rem;
            color: var(--white);
            background: linear-gradient(90deg, #fff, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            font-size: 2.5rem; /* Reduced from 3.5rem */
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--white);
            letter-spacing: -0.5px;
        }

        h3 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--tiffany);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h3::before {
            content: '';
            width: 20px;
            height: 1px;
            background: var(--tiffany);
        }

        p {
            font-size: 1.1rem; /* Reduced from 1.4rem */
            line-height: 1.6;
            color: #d1d1d1;
            margin-bottom: 2rem;
            font-weight: 400;
            max-width: 90%;
            text-align: left;
        }

        /* GLITCH TEXT EFFECT */
        .glitch-text {
            position: relative;
        }
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            left: 2px;
            text-shadow: -1px 0 var(--tiffany);
            top: 0;
            color: white;
            background: black;
            overflow: hidden;
            clip: rect(0, 900px, 0, 0); 
            animation: noise-anim 2s infinite linear alternate-reverse;
        }
        @keyframes noise-anim {
            0% { clip: rect(20px, 9999px, 21px, 0); }
            5% { clip: rect(60px, 9999px, 80px, 0); }
            10% { clip: rect(10px, 9999px, 80px, 0); }
            100% { clip: rect(0, 0, 0, 0); }
        }

        /* DATA VIZ ELEMENTS */
        .metric-box {
            border: 1px solid var(--dim);
            padding: 30px;
            background: rgba(0,0,0,0.5);
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        
        /* Scanline for metrics */
        .metric-box::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(10, 186, 181, 0.3); /* Tiffany tint */
            animation: scan 3s linear infinite;
        }
        
        @keyframes scan { 0% {top:0;} 100% {top:100%;} }

        .metric-val {
            font-size: 3rem; /* Reduced size */
            font-weight: 700;
            color: var(--white);
            letter-spacing: -1px;
        }

        .metric-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--silver);
            text-transform: uppercase;
            margin-top: 10px;
        }

        ul { list-style: none; }
        li {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            margin-bottom: 1rem;
            padding-left: 2rem;
            position: relative;
            color: var(--silver);
        }
        li::before {
            content: '>';
            position: absolute;
            left: 0;
            color: var(--tiffany);
            font-weight: 700;
        }

        .img-placeholder {
            width: 100%;
            height: 250px;
            background: repeating-linear-gradient(
                90deg,
                rgba(255,255,255,0.02),
                rgba(255,255,255,0.02) 1px,
                transparent 1px,
                transparent 20px
            );
            border: 1px solid var(--dim);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'JetBrains Mono', monospace;
            color: var(--silver);
            font-size: 0.9rem;
        }

        /* NAVIGATION ZONES */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            background: rgba(0,0,0,0.8);
            transition: all 0.3s;
        }
        .nav-btn:hover {
            border-color: var(--tiffany);
            background: rgba(10, 186, 181, 0.1);
        }
        .nav-btn:hover svg {
            fill: var(--tiffany);
        }
        .nav-btn.prev { left: 30px; }
        .nav-btn.next { right: 30px; }
        .nav-btn svg { width: 24px; height: 24px; fill: #fff; transition: fill 0.3s; }

        .progress-bar {
            position: absolute;
            bottom: 40px;
            left: 5%;
            height: 1px;
            background: var(--dim);
            width: 90%;
        }
        .progress-fill {
            height: 100%;
            background: var(--tiffany);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--tiffany);
        }
        
        .counter {
            position: absolute;
            bottom: 20px;
            right: 5%;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--silver);
        }

    </style>
</head>
<body>

    <canvas id="flow-canvas"></canvas>

    <div id="ui-layer">
        <div id="slide-injector"></div>
    </div>

    <div class="nav-btn prev" onclick="changeSlide(-1)">
        <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </div>
    <div class="nav-btn next" onclick="changeSlide(1)">
        <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
    </div>

    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
    <div class="counter" id="counter">01 / 25</div>

    <script>
        // --- DATA ---
        const slides = [
            { h3: "Investment Memo", h1: "PROJECT LATTICE", p: "Quantum Penetration Testing as a Service.<br>Defense by Simulation.", visual: `<div class="metric-box"><div class="metric-val">SEED</div><div class="metric-label">$4M @ $25M Cap</div></div>` },
            { h3: "Executive Summary", h2: "The Thesis", p: "Cryptographic infrastructure faces a discontinuity event. Post-Quantum Cryptography is mandatory, but implementation risks remain.", visual: `<div class="metric-box"><div class="metric-val">HNDL</div><div class="metric-label">Harvest Now, Decrypt Later</div></div>` },
            { h3: "The Problem", h2: "Quantum Blind Spot", p: "NIST standards are based on Math. <span style='background:white; color:black; padding:0 4px;'>Real attacks are Physics.</span> We cannot defend what we cannot model.", visual: `<div class="img-placeholder">MATH != PHYSICS</div>` },
            { h3: "The Solution", h2: "Project Lattice", p: "We introduce QPaaS. Instead of defensive libraries, we offer offensive simulation. We stress-test keys against quantum noise.", visual: `<div class="metric-box"><div class="metric-val">QPaaS</div><div class="metric-label">Penetration Testing</div></div>` },
            { h3: "Core Tech", h2: "The Trinity", p: "A recursive loop: Petri (Environment), Janus (Attacker), and Oracle (Judge).", visual: `<ul><li>PETRI: Physics Engine</li><li>JANUS: AI Swarm</li><li>ORACLE: Ledger</li></ul>` },
            { h3: "Deep Tech", h2: "Petri Engine", p: "Simulating Langevin SDEs to mimic decoherence. 10^9 particle steps per second on H100s.", visual: `<div class="metric-box"><div class="metric-val">10^9</div><div class="metric-label">Steps / Sec</div></div>` },
            { h3: "Deep Tech", h2: "Janus Swarm", p: "Reinforcement Learning agents trained to predict entropy trajectories in the Petri environment.", visual: `<div class="img-placeholder">RL AGENT TRAINING</div>` },
            { h3: "The Moat", h2: "Ecosystem IP", p: "Leveraging sister platforms: Helix (Bio-Compute) and Nexus (Simulation) for shared algorithms.", visual: `<ul><li>Shared Physics Kernels</li><li>Shared RL Libraries</li></ul>` },
            { h3: "Market", h2: "The Catalyst", p: "NIST FIPS 203/204 finalized in 2024. Federal mandates force adoption.", visual: `<div class="metric-box"><div class="metric-val">2024</div><div class="metric-label">NIST Finalization</div></div>` },
            { h3: "Market Size", h2: "$10B Opportunity", p: "Projected TAM by 2030. Driven by BFSI and Defense sectors requiring long-term data secrecy.", visual: `<div class="metric-box"><div class="metric-val">$10B</div><div class="metric-label">TAM 2030</div></div>` },
            { h3: "Competition", h2: "Differentiation", p: "SandboxAQ is the generalist. PQShield is the shield. We are the stress test.", visual: `<div class="img-placeholder">VS. SANDBOX AQ</div>` },
            { h3: "Financials", h2: "The Ask", p: "Raising $4M on a SAFE to fund a 12-month engineering sprint to scale the physics engine.", visual: `<div class="metric-box"><div class="metric-val">$4M</div><div class="metric-label">Seed Round</div></div>` },
            { h3: "Roadmap", h2: "Q1: Build", p: "Scaling Petri to massive parallelization on GPU clusters.", visual: `<div class="metric-box"><div class="metric-val">Q1</div><div class="metric-label">Physics Scale</div></div>` },
            { h3: "Roadmap", h2: "Q2: Train", p: "Calibrating Janus agents against standard PRNGs.", visual: `<div class="metric-box"><div class="metric-val">Q2</div><div class="metric-label">AI Calibration</div></div>` },
            { h3: "Roadmap", h2: "Q3: Integrate", p: "The Trinity Loop (Alpha) goes live.", visual: `<div class="metric-box"><div class="metric-val">Q3</div><div class="metric-label">Alpha Launch</div></div>` },
            { h3: "Conclusion", h1: "JOIN THE CHAOS", p: "Invest in the infrastructure of the post-quantum era.", visual: `<div class="metric-val">LATTICE</div>` }
        ];

        // --- ENGINE ---
        const canvas = document.getElementById('flow-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        let wallX = 0; 
        let shockwave = 0; 

        // Colors
        const COL_WHITE = 'rgba(255, 255, 255,';
        const COL_TIFFANY = 'rgba(10, 186, 181,'; // 0ABAB5

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            wallX = width * 0.6;
            initParticles();
        }

        // Particle Types
        const TYPE_FLOW = 0;     // White, attacking (left to right)
        const TYPE_JANUS = 1;    // Tiffany, hunting (seeks flow)
        const TYPE_DEFENDER = 2; // Tiffany, converted (moves vertically)

        class Particle {
            constructor(type = TYPE_FLOW) {
                this.type = type;
                this.reset(true);
            }

            reset(initial = false) {
                this.life = 1;
                this.decay = Math.random() * 0.005 + 0.002;
                
                if (this.type === TYPE_FLOW) {
                    this.x = initial ? Math.random() * width : 0;
                    this.y = Math.random() * height;
                    this.vx = Math.random() * 2 + 1; 
                    this.vy = (Math.random() - 0.5) * 0.5;
                    this.size = Math.random() * 1.5 + 0.5;
                    this.colorRoot = COL_WHITE;
                } else if (this.type === TYPE_JANUS) {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 3;
                    this.vy = (Math.random() - 0.5) * 3;
                    this.size = 2.5; // Bigger
                    this.colorRoot = COL_TIFFANY;
                    this.decay = 0; // Janus agents don't die easily
                } else if (this.type === TYPE_DEFENDER) {
                    // Start at wall usually, or converted position
                    this.x = wallX + (Math.random() * 20 - 10); 
                    this.y = Math.random() * height;
                    this.vx = 0;
                    this.vy = (Math.random() - 0.5) * 4; // Fast vertical movement
                    this.size = 1.5;
                    this.colorRoot = COL_TIFFANY;
                }
            }

            update() {
                // 1. Logic based on Type
                if (this.type === TYPE_FLOW) {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Interaction with Wall
                    let distToWall = Math.abs(this.x - wallX);
                    if (distToWall < 50) {
                        this.vy += (Math.random() - 0.5) * 0.5;
                        this.vx *= 0.95;
                    }
                    
                    // Reset
                    this.life -= this.decay;
                    if (this.x > width || this.life <= 0) this.reset();
                    
                } else if (this.type === TYPE_JANUS) {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Bounce off edges
                    if (this.x < 0 || this.x > width) this.vx *= -1;
                    if (this.y < 0 || this.y > height) this.vy *= -1;

                    // HUNT: Find nearby Flow particles
                } else if (this.type === TYPE_DEFENDER) {
                    this.x += this.vx; // Should be near 0
                    this.y += this.vy;
                    
                    // Keep near wall
                    let drift = this.x - wallX;
                    this.vx -= drift * 0.05; // Spring back to wall
                    
                    // Bounce vertical
                    if (this.y < 0 || this.y > height) this.vy *= -1;
                }

                // 2. Shockwave Interaction (All types affected)
                if (shockwave > 0) {
                    let dx = this.x - wallX;
                    let dy = this.y - (height/2);
                    let dist = Math.sqrt(dx*dx + dy*dy);
                    if (Math.abs(dist - shockwave) < 100) {
                        let force = (100 - Math.abs(dist - shockwave)) / 100;
                        let angle = Math.atan2(dy, dx);
                        this.vx += Math.cos(angle) * force * 2;
                        this.vy += Math.sin(angle) * force * 2;
                    }
                }
            }

            draw() {
                let alpha = this.life;
                if (this.type === TYPE_JANUS) alpha = 0.8;
                if (this.type === TYPE_DEFENDER) alpha = 0.6;

                // Wall Glow override
                let distToWall = Math.abs(this.x - wallX);
                if (this.type === TYPE_FLOW && distToWall < 20) alpha = 1;

                ctx.fillStyle = `${this.colorRoot} ${alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            
            // 1. Flow Particles (Attackers)
            for(let i=0; i<600; i++) particles.push(new Particle(TYPE_FLOW));
            
            // 2. Janus Agents (Adversarial/Tiffany)
            for(let i=0; i<15; i++) particles.push(new Particle(TYPE_JANUS));
        }

        function animate() {
            ctx.fillStyle = 'rgba(2, 2, 2, 0.2)'; 
            ctx.fillRect(0, 0, width, height);

            // Draw Wall Line
            ctx.strokeStyle = 'rgba(10, 186, 181, 0.1)'; // Tiffany tint
            ctx.beginPath();
            ctx.moveTo(wallX, 0);
            ctx.lineTo(wallX, height);
            ctx.stroke();

            if (shockwave > 0) {
                shockwave += 30; 
                if (shockwave > width * 1.5) shockwave = 0; 
            }

            // Logic Loop
            for (let i = 0; i < particles.length; i++) {
                let p = particles[i];
                p.update();
                p.draw();

                // Janus Interaction Logic
                if (p.type === TYPE_JANUS) {
                    for (let j = 0; j < particles.length; j++) {
                        let other = particles[j];
                        if (other.type === TYPE_FLOW) {
                            let dx = p.x - other.x;
                            let dy = p.y - other.y;
                            let dist = Math.sqrt(dx*dx + dy*dy);
                            
                            // "STEAL" Range
                            if (dist < 50) {
                                // Attraction force (Magnetism)
                                other.vx += (dx / dist) * 0.5;
                                other.vy += (dy / dist) * 0.5;

                                // CONVERT if very close
                                if (dist < 10) {
                                    other.type = TYPE_DEFENDER;
                                    other.colorRoot = COL_TIFFANY;
                                    other.vx = 0;
                                    other.vy = (Math.random() < 0.5 ? 1 : -1) * (Math.random() * 3 + 2);
                                    other.decay = 0; // Defenders persist longer
                                    other.life = 1;
                                }
                            }
                        }
                    }
                }
            }

            requestAnimationFrame(animate);
        }

        // --- SLIDE LOGIC ---
        let currentIndex = 0;
        const injector = document.getElementById('slide-injector');
        const progressFill = document.getElementById('progress');
        const counter = document.getElementById('counter');

        function renderSlide(index) {
            const d = slides[index];
            shockwave = 10; 
            
            let headerHTML = d.h1 
                ? `<h1 class="glitch-text" data-text="${d.h1}">${d.h1}</h1>`
                : `<h2 class="glitch-text" data-text="${d.h2}">${d.h2}</h2>`;

            const html = `
                <div class="slide-container">
                    <div class="text-content">
                        <h3>${d.h3}</h3>
                        ${headerHTML}
                        <p>${d.p}</p>
                    </div>
                    <div class="visual-content">
                        ${d.visual}
                    </div>
                </div>
            `;
            
            injector.innerHTML = html;
            const el = injector.querySelector('.slide-container');
            void el.offsetWidth; 
            el.classList.add('active');

            progressFill.style.width = ((index + 1) / slides.length * 100) + '%';
            counter.innerText = `${String(index + 1).padStart(2,'0')} / ${slides.length}`;
        }

        function changeSlide(dir) {
            const next = currentIndex + dir;
            if (next >= 0 && next < slides.length) {
                currentIndex = next;
                renderSlide(currentIndex);
            }
        }

        // INIT
        window.addEventListener('resize', resize);
        resize();
        animate();
        renderSlide(0);

        document.addEventListener('keydown', e => {
            if(e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
            if(e.key === 'ArrowLeft') changeSlide(-1);
        });

    </script>
</body>
</html>
