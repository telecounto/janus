<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Lattice | Investment Memorandum</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* PURE MONOCHROME */
            --bg-color: #020202;
            --white: #ffffff;
            --silver: #8c8c8c;
            --dim: #333333;
            --tiffany: #0ABAB5; /* Tiffany Blue Accent */
            
            --panel-bg: rgba(5, 5, 5, 0.9);
            --panel-border: rgba(255, 255, 255, 0.1);
            
            --blur-amount: 20px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* CANVAS LAYER */
        #flow-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* UI LAYER */
        #ui-layer {
            position: relative;
            z-index: 10;
            width: 95%; 
            max-width: 1600px; 
            height: 85vh;
            pointer-events: none; 
        }

        /* SLIDE TRANSITIONS */
        .slide-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            
            background: var(--panel-bg);
            /* Glass border only on left/right to mimic opening */
            border-left: 1px solid var(--panel-border);
            border-right: 1px solid var(--panel-border);
            
            display: grid;
            grid-template-columns: 1fr 1fr; /* Equal split for diagrams */
            gap: 80px;
            padding: 0 6%;
            align-items: center;
            
            pointer-events: auto;
            
            /* COALESCE ANIMATION STATE */
            opacity: 0;
            filter: blur(var(--blur-amount));
            transform: scale(1.02);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .slide-container.active {
            opacity: 1;
            filter: blur(0px); /* Coalesce to sharp */
            transform: scale(1);
        }

        /* DIGITAL WALL DIVIDER */
        .visual-content {
            height: 80%;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding-left: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        /* The glowing line in the UI matching the physics wall */
        .visual-content::before {
            content: '';
            position: absolute;
            left: -1px;
            top: 10%;
            height: 80%;
            width: 1px;
            background: linear-gradient(180deg, transparent, var(--tiffany), transparent);
            box-shadow: 0 0 10px var(--tiffany);
            opacity: 0.8;
        }

        /* TYPOGRAPHY */
        h1 {
            font-size: 4rem;
            line-height: 1;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -1px;
            margin-bottom: 2rem;
            color: var(--white);
            background: linear-gradient(90deg, #fff, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            font-size: 2.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--white);
            letter-spacing: -0.5px;
        }

        h3 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--tiffany);
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h3::before {
            content: '';
            width: 30px;
            height: 1px;
            background: var(--tiffany);
        }

        p {
            font-size: 1.25rem;
            line-height: 1.7;
            color: #d1d1d1;
            margin-bottom: 2rem;
            font-weight: 300;
            max-width: 95%;
            text-align: left;
            border-left: 2px solid var(--dim);
            padding-left: 20px;
        }

        /* GLITCH TEXT EFFECT */
        .glitch-text {
            position: relative;
        }
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            left: 2px;
            text-shadow: -1px 0 var(--tiffany);
            top: 0;
            color: white;
            background: black;
            overflow: hidden;
            clip: rect(0, 900px, 0, 0); 
            animation: noise-anim 2s infinite linear alternate-reverse;
        }
        @keyframes noise-anim {
            0% { clip: rect(20px, 9999px, 21px, 0); }
            5% { clip: rect(60px, 9999px, 80px, 0); }
            10% { clip: rect(10px, 9999px, 80px, 0); }
            100% { clip: rect(0, 0, 0, 0); }
        }

        /* DIAGRAM STYLES (NEW) */
        .diagram-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: 'JetBrains Mono', monospace;
        }

        .diag-row {
            display: flex;
            gap: 20px;
            align-items: center;
            width: 100%;
            justify-content: center;
            margin-bottom: 20px;
        }

        .diag-box {
            border: 1px solid var(--silver);
            padding: 20px;
            min-width: 140px;
            text-align: center;
            background: rgba(255,255,255,0.02);
            position: relative;
        }
        .diag-box.highlight {
            border-color: var(--tiffany);
            color: var(--tiffany);
            box-shadow: 0 0 10px rgba(10, 186, 181, 0.1);
        }

        .diag-arrow {
            color: var(--dim);
            font-size: 1.5rem;
        }
        .diag-arrow-down {
            color: var(--dim);
            font-size: 1.5rem;
            margin: 10px 0;
        }

        /* Chart Styles */
        .chart-container {
            display: flex;
            align-items: flex-end;
            gap: 40px;
            height: 300px;
            border-bottom: 1px solid var(--silver);
            padding-bottom: 20px;
            width: 80%;
        }
        .chart-bar {
            flex: 1;
            background: var(--dim);
            position: relative;
            transition: height 1s ease;
        }
        .chart-bar.active {
            background: linear-gradient(0deg, var(--tiffany), transparent);
        }
        .chart-label {
            position: absolute;
            bottom: -40px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
            color: var(--silver);
        }
        .chart-val {
            position: absolute;
            top: -30px;
            width: 100%;
            text-align: center;
            font-weight: 700;
        }

        /* Grid Visual */
        .lattice-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            width: 80%;
        }
        .lattice-cell {
            aspect-ratio: 1;
            border: 1px solid var(--dim);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: var(--dim);
        }
        .lattice-cell.active {
            border-color: var(--tiffany);
            color: var(--tiffany);
        }

        /* NAVIGATION ZONES */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            background: rgba(0,0,0,0.8);
            transition: all 0.3s;
        }
        .nav-btn:hover {
            border-color: var(--tiffany);
            background: rgba(10, 186, 181, 0.1);
        }
        .nav-btn:hover svg {
            fill: var(--tiffany);
        }
        .nav-btn.prev { left: 30px; }
        .nav-btn.next { right: 30px; }
        .nav-btn svg { width: 24px; height: 24px; fill: #fff; transition: fill 0.3s; }

        .progress-bar {
            position: absolute;
            bottom: 40px;
            left: 5%;
            height: 1px;
            background: var(--dim);
            width: 90%;
        }
        .progress-fill {
            height: 100%;
            background: var(--tiffany);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--tiffany);
        }
        
        .counter {
            position: absolute;
            bottom: 20px;
            right: 5%;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--silver);
        }

    </style>
</head>
<body>

    <canvas id="flow-canvas"></canvas>

    <div id="ui-layer">
        <div id="slide-injector"></div>
    </div>

    <div class="nav-btn prev" onclick="changeSlide(-1)">
        <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </div>
    <div class="nav-btn next" onclick="changeSlide(1)">
        <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
    </div>

    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
    <div class="counter" id="counter">01 / 28</div>

    <script>
        // --- DATA ---
        const slides = [
            { 
                h3: "Strategic Memorandum", 
                h1: "PROJECT LATTICE", 
                p: "We are building the first Quantum Penetration Testing as a Service (QPaaS) platform. <br><br>While the industry focuses on mathematical standards, we validate security against the chaotic reality of physics. We don't just upgrade encryption; we stress-test it against the entropy of nature itself.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box highlight" style="width: 250px; height: 100px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                            $4M SEED
                        </div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box" style="width: 250px;">
                            $25M CAP (SAFE)
                        </div>
                    </div>
                ` 
            },
            { 
                h3: "Executive Summary", 
                h2: "The Thesis", 
                p: "The global cryptographic infrastructure faces a discontinuity event. Post-Quantum Cryptography (PQC) is now mandatory, but implementation risks remain unseen.<br><br>The 'Harvest Now, Decrypt Later' (HNDL) threat model means data stored today is already at risk. The market needs immediate, physical verification of entropy sources, not just mathematical compliance.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box" style="width: 100%; margin-bottom: 20px; border-style: dashed;">Legacy (RSA/ECC)</div>
                        <div class="diag-arrow-down" style="color: var(--tiffany)">DISCONTINUITY EVENT</div>
                        <div class="diag-box highlight" style="width: 100%;">Post-Quantum (Lattice)</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box">Physical Verification</div>
                    </div>
                ` 
            },
            { 
                h3: "The Problem", 
                h2: "Quantum Blind Spot", 
                p: "NIST standards (FIPS 203/204) are purely mathematical. They assume perfect implementation. However, real quantum attacks exploit physical side-channels—noise, voltage, and timing.<br><br>We cannot defend against what we cannot model. Current tools lack the physics-based simulation required to detect these vulnerabilities before a quantum adversary does.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-row">
                            <div class="diag-box">MATH</div>
                            <div class="diag-arrow">vs</div>
                            <div class="diag-box highlight">PHYSICS</div>
                        </div>
                        <div style="margin-top: 20px; font-size: 0.8rem; color: var(--silver); text-align: left;">
                            > Proofs vs. Noise<br>
                            > Logic vs. Entropy<br>
                            > Ideal vs. Real
                        </div>
                    </div>
                ` 
            },
            { 
                h3: "The Solution", 
                h2: "QPaaS Platform", 
                p: "Project Lattice introduces Quantum Penetration Testing as a Service. <br><br>Instead of selling defensive libraries, we provide an offensive simulation engine. We use massive-scale Langevin dynamics to mimic the noise fingerprints of quantum computers, creating a digital wind tunnel for cryptographic keys.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box">Client Code</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box highlight">LATTICE ENGINE</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box">Audit Report</div>
                    </div>
                ` 
            },
            { 
                h3: "Core Architecture", 
                h2: "The Trinity", 
                p: "Our recursive security loop consists of three modules:<br><br><strong>1. PETRI:</strong> The Environment. Simulates quantum noise.<br><strong>2. JANUS:</strong> The Attacker. AI agents that hunt for patterns.<br><strong>3. ORACLE:</strong> The Judge. A ledger that certifies resilience.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box">PETRI (Sim)</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box highlight">JANUS (Attack)</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box">ORACLE (Verify)</div>
                    </div>
                ` 
            },
            { 
                h3: "Deep Tech", 
                h2: "Petri Engine", 
                p: "Petri solves Stochastic Differential Equations (SDEs) to model decoherence. <br><br>Optimized for NVIDIA H100 clusters, it achieves 10^9 particle steps per second, allowing us to simulate years of quantum entropy wear in mere hours.", 
                visual: `
                    <div class="lattice-grid">
                        <div class="lattice-cell active">dX</div><div class="lattice-cell">dt</div><div class="lattice-cell active">∇V</div><div class="lattice-cell">√2</div>
                        <div class="lattice-cell">dW</div><div class="lattice-cell active">t</div><div class="lattice-cell">x</div><div class="lattice-cell active">y</div>
                        <div class="lattice-cell active">z</div><div class="lattice-cell">α</div><div class="lattice-cell active">β</div><div class="lattice-cell">γ</div>
                    </div>
                ` 
            },
            { 
                h3: "Deep Tech", 
                h2: "Janus Swarm", 
                p: "Janus utilizes Reinforcement Learning (RL) agents trained on the Petri substrate. <br><br>These agents are incentivized to find non-random patterns in the entropy stream. They evolve tactics dynamically, ensuring that our defense is tested against an adaptive adversary, not a static script.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box highlight">AGENT</div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-row">
                            <div class="diag-box" style="font-size: 0.8rem">Observe</div>
                            <div class="diag-box" style="font-size: 0.8rem">Attack</div>
                        </div>
                        <div class="diag-arrow-down">↓</div>
                        <div class="diag-box">Reward (+/-)</div>
                    </div>
                ` 
            },
            { 
                h3: "Financials", 
                h2: "Return Profile", 
                p: "We are targeting a 25x MOIC (Multiple on Invested Capital). <br><br>The model is built on high-margin recurring audit revenue. We project a conservative exit via M&A ($600M+) to a Defense Prime, with an upside IPO scenario ($2.5B+) driven by widespread enterprise adoption.", 
                visual: `
                    <div class="diagram-container">
                        <div class="chart-container">
                            <div class="chart-bar" style="height: 20%">
                                <div class="chart-val">Seed</div>
                                <div class="chart-label">Now</div>
                            </div>
                            <div class="chart-bar" style="height: 40%">
                                <div class="chart-val">A</div>
                            </div>
                            <div class="chart-bar active" style="height: 100%">
                                <div class="chart-val">25x</div>
                                <div class="chart-label">Exit</div>
                            </div>
                        </div>
                    </div>
                ` 
            },
            { 
                h3: "Conclusion", 
                h1: "JOIN THE LATTICE", 
                p: "We are building the wind tunnel for the quantum age. Secure the infrastructure of tomorrow, today.", 
                visual: `
                    <div class="diagram-container">
                        <div class="diag-box highlight" style="width: 100%; height: 100px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">
                            LATTICE
                        </div>
                    </div>
                ` 
            }
        ];

        // --- ENGINE ---
        const canvas = document.getElementById('flow-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        let wallX = 0; 
        let shockwave = 0; 

        // Colors
        const COL_WHITE = 'rgba(255, 255, 255,';
        const COL_TIFFANY = 'rgba(10, 186, 181,'; // 0ABAB5

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            // Digital wall at 50% for the split layout
            wallX = width * 0.5; 
            initParticles();
        }

        // Particle Types
        const TYPE_FLOW = 0;     // White, Coherent Stream
        const TYPE_JANUS = 1;    // Tiffany, Defenders

        class Particle {
            constructor(type = TYPE_FLOW) {
                this.type = type;
                this.reset(true);
            }

            reset(initial = false) {
                this.life = 1;
                // Slower decay for coherence
                this.decay = Math.random() * 0.002 + 0.001; 
                
                if (this.type === TYPE_FLOW) {
                    // Start off screen left
                    this.x = initial ? Math.random() * width * 0.5 : -10;
                    this.y = Math.random() * height;
                    
                    // COHERENCE: Constant speed, very little vertical jitter
                    this.vx = 2.5; 
                    this.vy = (Math.random() - 0.5) * 0.1; 
                    
                    this.size = Math.random() * 1.5 + 0.5;
                    this.colorRoot = COL_WHITE;
                } else if (this.type === TYPE_JANUS) {
                    this.x = wallX + (Math.random() * 100); // Start near wall
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 1;
                    this.vy = (Math.random() - 0.5) * 1;
                    this.size = 3; 
                    this.colorRoot = COL_TIFFANY;
                    this.decay = 0; 
                }
            }

            update() {
                if (this.type === TYPE_FLOW) {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Wall Interaction (The Lattice Filter)
                    let distToWall = Math.abs(this.x - wallX);
                    if (distToWall < 10) {
                        // Pass through but maybe glimmer
                        this.size = 2; 
                    }
                    
                    this.life -= this.decay;
                    if (this.x > width || this.life <= 0) this.reset();
                    
                } else if (this.type === TYPE_JANUS) {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Keep near the wall (The Moat)
                    let drift = this.x - wallX;
                    this.vx -= drift * 0.01; 
                    
                    if (this.y < 0 || this.y > height) this.vy *= -1;
                }

                // Shockwave Interaction
                if (shockwave > 0) {
                    let dx = this.x - wallX;
                    let dy = this.y - (height/2);
                    let dist = Math.sqrt(dx*dx + dy*dy);
                    if (Math.abs(dist - shockwave) < 100) {
                        let force = (100 - Math.abs(dist - shockwave)) / 100;
                        let angle = Math.atan2(dy, dx);
                        this.vx += Math.cos(angle) * force * 2;
                        this.vy += Math.sin(angle) * force * 2;
                    }
                }
            }

            draw() {
                let alpha = this.life * 0.5; // Lower alpha for subtle look
                if (this.type === TYPE_JANUS) alpha = 0.8;
                
                ctx.fillStyle = `${this.colorRoot} ${alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            
            // REDUCED COUNT FOR COHERENCE
            // 200 Flow Particles (Laminar Stream)
            for(let i=0; i<200; i++) particles.push(new Particle(TYPE_FLOW));
            
            // 15 Janus Agents
            for(let i=0; i<15; i++) particles.push(new Particle(TYPE_JANUS));
        }

        function animate() {
            ctx.clearRect(0,0,width,height); // Clear instead of trail for cleaner coherence

            // Draw Wall Line
            ctx.strokeStyle = 'rgba(10, 186, 181, 0.2)'; 
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(wallX, 0);
            ctx.lineTo(wallX, height);
            ctx.stroke();

            if (shockwave > 0) {
                shockwave += 30; 
                if (shockwave > width * 1.5) shockwave = 0; 
            }

            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }

            requestAnimationFrame(animate);
        }

        // --- SLIDE LOGIC ---
        let currentIndex = 0;
        const injector = document.getElementById('slide-injector');
        const progressFill = document.getElementById('progress');
        const counter = document.getElementById('counter');

        function renderSlide(index) {
            const d = slides[index];
            shockwave = 10; 
            
            let headerHTML = d.h1 
                ? `<h1 class="glitch-text" data-text="${d.h1}">${d.h1}</h1>`
                : `<h2 class="glitch-text" data-text="${d.h2}">${d.h2}</h2>`;

            const html = `
                <div class="slide-container">
                    <div class="text-content">
                        <h3>${d.h3}</h3>
                        ${headerHTML}
                        <p>${d.p}</p>
                    </div>
                    <div class="visual-content">
                        ${d.visual}
                    </div>
                </div>
            `;
            
            injector.innerHTML = html;
            const el = injector.querySelector('.slide-container');
            void el.offsetWidth; 
            el.classList.add('active');

            progressFill.style.width = ((index + 1) / slides.length * 100) + '%';
            counter.innerText = `${String(index + 1).padStart(2,'0')} / ${slides.length}`;
        }

        function changeSlide(dir) {
            const next = currentIndex + dir;
            if (next >= 0 && next < slides.length) {
                currentIndex = next;
                renderSlide(currentIndex);
            }
        }

        // INIT
        window.addEventListener('resize', resize);
        resize();
        animate();
        renderSlide(0);

        document.addEventListener('keydown', e => {
            if(e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
            if(e.key === 'ArrowLeft') changeSlide(-1);
        });

    </script>
</body>
</html>
